<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Todo リスト</title>
    <style>
        ul li button {
            margin: 0 5px;
        }
    </style>
</head>

<body>
    <h1>todoリスト</h1>
    <input type="text" id="todo">
    <button id="write" onclick="todo()">write</button>

    <ul id="sortable-li">
    </ul>

    <script>
        function todo() {
            var element = document.getElementById("sortable-li");
            var listItem = document.createElement("li");

            // 完了ボタンの生成
            let buttonComplete = document.createElement("button");
            buttonComplete.textContent = "完了";
            buttonComplete.setAttribute("class", "complete")
            buttonComplete.setAttribute("onclick", "completeButton(this)")

            // 削除ボタンの生成
            let buttonDelete = document.createElement("button");
            buttonDelete.textContent = "削除";
            buttonDelete.setAttribute("class", "delete")
            buttonDelete.setAttribute("onclick", "deleteButton(this)");

            listItem.textContent = document.getElementById("todo").value;
            document.getElementById("todo").value = "";
            element.appendChild(listItem).appendChild(buttonComplete);
            element.lastChild.appendChild(buttonDelete);
        }

        /**
        * 完了ボタン
        */
        function completeButton(e) {
            e.parentNode.style.textDecoration = "line-through";
        }

        /**
        * 削除ボタン
        */
        function deleteButton(e) {
            if (confirm("削除しますか？")) {
                e.parentNode.remove();
            }
        }
    </script>
</body>

</html>
